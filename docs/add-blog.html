<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add blog</title>
    <link rel="stylesheet" href="/dist/style.css">
    <script src="https://kit.fontawesome.com/2475799efc.js" crossorigin="anonymous"></script>
</head>
<body>
    <style>
        .placeholder-top-left::placeholder {
          position: absolute;
          top: 0;
          left: 0;
          transform: translate(0, 0);
          padding: 10px 15px;
          font-size: 1rem;
        }
        #description {
          position: relative;
        }
      </style>
    <header>
        <nav class="bg-white shadow h-20 ">
            <div class=" flex items-center justify-center h-full">
                <a class="align-middle" href="index.html" >
                    <img src="images/LOGO-02 3.png" class="h-5" alt="logo">
                </a>
            </div>
        </nav>
    </header>
    
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-start py-4">
            <a class=" font-bold">
                Go Back
            </a>
            <div class="flex-1 text-center">
                <p class="font-bold text-2xl">ბლოგების დამატება</p>
                <div class="flex justify-center">
                    <div class="w-full lg:w-3/4 xl:w-2/3 text-start">
                        <p>ფოტოს ატვირთვა</p>
                        <div id="uploadArea" class="flex flex-col justify-center h-60 upload-area bg-gray-200 p-4 rounded-lg text-center cursor-pointer border-dashed border-2 border-gray-400"
                             ondragover="event.preventDefault(); document.getElementById('uploadArea').classList.add('dragover', 'bg-gray-100', 'border-indigo-500')"
                             ondragleave="document.getElementById('uploadArea').classList.remove('dragover', 'bg-gray-100', 'border-indigo-500')"
                             ondrop="handleDrop(event)">
                            <div id="imagePreview" class="text-center">
                                <i id="imageIcon" class="fas fa-image text-2xl"></i>
                                <span id="fileName" class="text-lg"></span>
                                <button id="removeButton" class="text-red-500 hover:text-red-700 ml-2"><i class="fas fa-times"></i></button>
                            </div>
                            <p id="uploadText" class="text-lg align-middle">ჩააგდეთ ფაილი აქ ან <span class="font-bold underline">აირჩიეთ ფაილი</span></p>
                            <input id="fileInput" type="file" class="hidden" accept="image/*" onchange="previewImage(event)">
                        </div>
                        <form action="">
                            <div class="flex flex-wrap -mx-3 mb-6 mt-6">
                                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                  <label class="block text-base text-gray-700 font-bold mb-3" for="author">
                                    ავტორი
                                  </label>
                                  <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded-xl py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="author" type="text" placeholder="ჯუმბერი">
                                  <p class="text-gray-500 text-xs italic">მინიმუმ 4 სიმბოლო</p>
                                  <p class="text-gray-500 text-xs italic">მინიმუმ 2 სიტყვა</p>
                                  <p class="text-gray-500 text-xs italic">მხოლოდ ქართული სიმბოლოები</p>
                                </div>
                                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                  <label class="block text-base text-gray-700 font-bold mb-3" for="title">
                                    სათაური
                                  </label>
                                  <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded-xl py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="title" type="text" placeholder="ბლა ბლა">
                                  <p class="text-gray-500 text-xs italic">მინიმუმ 4 სიმბოლო</p>
                                </div>
                                <div class="w-full px-3 mt-6 h-44 mb-6 md:mb-20">
                                    <label class="block text-base text-gray-700 font-bold mb-3 leading-tight " for="description">აღწერა</label>
                                    <input class="placeholder-top-left h-full appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded-xl py-3 px-4 mb-3 focus:outline-none focus:bg-white focus:border-gray-500" id="description" placeholder="შეიყვანე აღწერა" type="text">
                                    <p class="text-gray-500 text-xs italic">მინიმუმ 2 სიმბოლო</p>
                                </div>
                                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                        <label class="block text-base text-gray-700 font-bold mb-3" for="date">
                                            თარიღი
                                        </label>
                                        <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded-xl py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="date" type="date">
                                    </div>
                                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                        <label class="block text-base text-gray-700 font-bold mb-3" for="category">კატეგორია</label>
                                        <select class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded-xl py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" name="category" id="category">
                                            <option value="volvo">Volvo</option>
                                            <option value="saab">Saab</option>
                                            <option value="mercedes">Mercedes</option>
                                            <option value="audi">Audi</option>
                                        </select>
                                    </div>
                            </div>
                        </form>
                    </div>
                </div>
                
            </div>
            
            <script>
                document.getElementById('imageIcon').style.display = 'none';
                document.getElementById('removeButton').style.display = 'none';
                
                function previewImageFromFile(file){
                    const imageIcon = document.getElementById('imageIcon');
                    const fileName = document.getElementById('fileName');
                    const removeButton = document.getElementById('removeButton');
                    const uploadText = document.getElementById('uploadText')

                    imageIcon.style.display = 'inline-block';
                    fileName.textContent = file.name;
                    removeButton.style.display = 'inline-block';
                    uploadText.style.display = 'none'

                    if(!file.type.startsWith('image/')){
                        alert('Only images are allowed!');
                        return;
                    }
                }
            
                function handleDrop(event) {
                    event.preventDefault();
                    document.getElementById('uploadArea').classList.remove('dragover');
                    const file = event.dataTransfer.files[0];
                    previewImageFromFile(file);
                }
            
                function previewImage(event) {
                    const file = event.target.files[0];
                    previewImageFromFile(file);
                }
            
                // Remove the uploaded image when the remove button is clicked
                document.getElementById('removeButton').addEventListener('click', function() {
                    const imageIcon = document.getElementById('imageIcon');
                    const fileName = document.getElementById('fileName');
                    const removeButton = document.getElementById('removeButton');
                    const uploadText = document.getElementById('uploadText');
            
                    imageIcon.style.display = 'none';
                    fileName.textContent = '';
                    removeButton.style.display = 'none';
                    uploadText.style.display = 'block';
                    document.getElementById('fileInput').value = ''; // Clear the file input
                });
            </script>
</body>
</html>